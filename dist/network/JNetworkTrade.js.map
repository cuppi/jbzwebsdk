{"version":3,"sources":["network/JNetworkTrade.js"],"names":["__assign","t","s","i","n","arguments","length","p","Object","prototype","hasOwnProperty","call","defineProperty","exports","value","JNetwork_js_1","require","JUrlList_1","JDataUnify_1","JNetworkTrade","tradeLockSeatNeedLogin","type","paras","loginParas","default","resolve","reject","POST","tradeUrl","jbzLockSeat","then","data","error","cancelLockSeatNeedLogin","orderId","jbzCancelOrder","tradeApplyOrderNeedLogin","inType","jbzWebAtAppApplyTicket","wrongInType","tradePrePayOrderNeedLoginInType","payType","prizeIds","redIds","jbzAppPrepay","jbzWebPrepay"],"mappings":"AAAA;;;AAGA;;;;;;;;;;;;AACA,IAAIA,WAAY,aAAQ,UAAKA,QAAd,wBAA4C,UAASC,CAAT,EAAY;AACnE,SAAK,IAAIC,CAAJ,EAAOC,IAAI,CAAX,EAAcC,IAAIC,UAAUC,MAAjC,EAAyCH,IAAIC,CAA7C,EAAgDD,GAAhD,EAAqD;AACjDD,YAAIG,UAAUF,CAAV,CAAJ;AACA,aAAK,IAAII,CAAT,IAAcL,CAAd;AAAiB,gBAAIM,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCT,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,EAAEM,CAAF,IAAOL,EAAEK,CAAF,CAAP;AADJ;AAEH;AACD,WAAON,CAAP;AACH,CAPD;AAQAO,OAAOI,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAIC,gBAAgBC,QAAQ,eAAR,CAApB;AACA,IAAIC,aAAaD,QAAQ,mBAAR,CAAjB;AACA,IAAIE,eAAeF,QAAQ,qBAAR,CAAnB;AACA;;;;AAIA,IAAIG,gBAAiB,YAAY;AAC7B,aAASA,aAAT,GAAyB,CACxB;AACD;;;;;;AAMAA,kBAAcC,sBAAd,GAAuC,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AAC1D,YAAIC,aAAaR,cAAcS,OAAd,CAAsBD,UAAtB,EAAjB;AACA,eAAO,sBAAY,UAAUE,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CX,0BAAcS,OAAd,CAAsBG,IAAtB,CAA2BV,WAAWW,QAAX,CAAoBC,WAA/C,EAA4D7B,SAAS,EAAEqB,MAAMA,IAAR,EAAT,EAAyBE,UAAzB,EAAqCD,KAArC,CAA5D,EAAyGQ,IAAzG,CAA8G,UAAUC,IAAV,EAAgB;AAC1HN,wBAAQP,aAAaM,OAAb,CAAqB,sBAArB,EAA6CO,IAA7C,CAAR;AACH,aAFD,EAEG,UAAUC,KAAV,EAAiB;AAChBN,uBAAOM,KAAP;AACH,aAJD;AAKH,SANM,CAAP;AAOH,KATD;AAUA;;;;;AAKAb,kBAAcc,uBAAd,GAAwC,UAAUC,OAAV,EAAmB;AACvD,eAAOnB,cAAcS,OAAd,CAAsBG,IAAtB,CAA2BV,WAAWW,QAAX,CAAoBO,cAA/C,EAA+D,EAAED,SAASA,OAAX,EAA/D,CAAP;AACH,KAFD;AAGA;;;;;;AAMAf,kBAAciB,wBAAd,GAAyC,UAAUf,IAAV,EAAgBC,KAAhB,EAAuB;AAC5D,YAAIC,aAAaR,cAAcS,OAAd,CAAsBD,UAAtB,EAAjB;AACA,YAAIc,SAAStB,cAAcS,OAAd,CAAsBa,MAAnC;AACA,YAAIA,WAAW,UAAX,IAAyBA,WAAW,cAAxC,EAAwD;AACpD,mBAAO,sBAAY,UAAUZ,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CX,8BAAcS,OAAd,CAAsBG,IAAtB,CAA2BV,WAAWW,QAAX,CAAoBU,sBAA/C,EAAuEtC,SAAS,EAAEqB,MAAMA,IAAR,EAAT,EAAyBE,UAAzB,EAAqCD,KAArC,CAAvE,EAAoHQ,IAApH,CAAyH,UAAUC,IAAV,EAAgB;AACrIN,4BAAQP,aAAaM,OAAb,CAAqB,iCAArB,EAAwDO,IAAxD,CAAR;AACH,iBAFD,EAEG,UAAUC,KAAV,EAAiB;AAChBN,2BAAOM,KAAP;AACH,iBAJD;AAKH,aANM,CAAP;AAOH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAOjB,cAAcS,OAAd,CAAsBe,WAAtB,EAAP;AACH,KApBD;AAqBA;;;;;;;;AAQApB,kBAAcqB,+BAAd,GAAgD,UAAUN,OAAV,EAAmBO,OAAnB,EAA4BC,QAA5B,EAAsCC,MAAtC,EAA8C;AAC1F,YAAIpB,aAAaR,cAAcS,OAAd,CAAsBD,UAAtB,EAAjB;AACA,YAAIc,SAAStB,cAAcS,OAAd,CAAsBa,MAAnC;AACA,YAAIA,WAAW,OAAX,IAAsBA,WAAW,WAArC,EAAkD;AAC9C,mBAAOtB,cAAcS,OAAd,CAAsBG,IAAtB,CAA2BV,WAAWW,QAAX,CAAoBgB,YAA/C,EAA6D,EAAEV,SAASA,OAAX,EAAoBO,SAASA,OAA7B,EAAsCC,UAAUA,QAAhD,EAA0DC,QAAQA,MAAlE,EAA7D,EAAyIpB,UAAzI,CAAP;AACH;AACD,YAAIc,WAAW,MAAX,IAAqBA,WAAW,OAAhC,IAA2CA,WAAW,IAA1D,EAAgE;AAC5D,mBAAOtB,cAAcS,OAAd,CAAsBG,IAAtB,CAA2BV,WAAWW,QAAX,CAAoBiB,YAA/C,EAA6D,EAAEX,SAASA,OAAX,EAAoBO,SAASA,OAA7B,EAAsCC,UAAUA,QAAhD,EAA0DC,QAAQA,MAAlE,EAA7D,EAAyIpB,UAAzI,CAAP;AACH;AACD,eAAOR,cAAcS,OAAd,CAAsBe,WAAtB,EAAP;AACH,KAVD;AAWA,WAAOpB,aAAP;AACH,CA1EoB,EAArB;AA2EAN,QAAQW,OAAR,GAAkBL,aAAlB","file":"JNetworkTrade.js","sourcesContent":["/**\n * Created by cuppi on 2016/12/7.\n */\n'use strict';\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JNetwork_js_1 = require(\"./JNetwork.js\");\nvar JUrlList_1 = require(\"../unify/JUrlList\");\nvar JDataUnify_1 = require(\"../unify/JDataUnify\");\n/**\n * 交易接口\n * @memberOf module:network\n */\nvar JNetworkTrade = (function () {\n    function JNetworkTrade() {\n    }\n    /**\n     * 锁座\n     * @param type 平台类型\n     * @param paras 锁座参数\n     * @returns {{terminate, then}|*}\n     */\n    JNetworkTrade.tradeLockSeatNeedLogin = function (type, paras) {\n        var loginParas = JNetwork_js_1.default.loginParas();\n        return new Promise(function (resolve, reject) {\n            JNetwork_js_1.default.POST(JUrlList_1.tradeUrl.jbzLockSeat, __assign({ type: type }, loginParas, paras)).then(function (data) {\n                resolve(JDataUnify_1.default('tradeUrl.jbzLockSeat', data));\n            }, function (error) {\n                reject(error);\n            });\n        });\n    };\n    /**\n     * 取消锁座\n     * @param orderId 订单Id\n     * @returns {{terminate, then}|*}\n     */\n    JNetworkTrade.cancelLockSeatNeedLogin = function (orderId) {\n        return JNetwork_js_1.default.POST(JUrlList_1.tradeUrl.jbzCancelOrder, { orderId: orderId });\n    };\n    /**\n     * 下订单\n     * @param type 平台类型\n     * @param paras 下订单参数\n     * @returns {{terminate, then}|*}\n     */\n    JNetworkTrade.tradeApplyOrderNeedLogin = function (type, paras) {\n        var loginParas = JNetwork_js_1.default.loginParas();\n        var inType = JNetwork_js_1.default.inType;\n        if (inType === 'ICBC-APP' || inType === 'SHANGHAI-APP') {\n            return new Promise(function (resolve, reject) {\n                JNetwork_js_1.default.POST(JUrlList_1.tradeUrl.jbzWebAtAppApplyTicket, __assign({ type: type }, loginParas, paras)).then(function (data) {\n                    resolve(JDataUnify_1.default('tradeUrl.jbzWebAtAppApplyTicket', data));\n                }, function (error) {\n                    reject(error);\n                });\n            });\n        }\n        // if (inType === 'DPIOS' || inType === 'DPANDROID') {\n        //   return JNetwork.POST(tradeUrl.jbzAppApplyTicket, {type, ...paras}, loginParas);\n        // }\n        //\n        // if (inType === 'DPWX' || inType === 'DPWEB' || inType === 'PC') {\n        //   return JNetwork.POST(tradeUrl.jbzWepApplyTicket, {type, ...paras}, loginParas);\n        // }\n        return JNetwork_js_1.default.wrongInType();\n    };\n    /**\n     * 申请预订单\n     * @param orderId 订单Id\n     * @param payType 支付类型\n     * @param prizeIds 待定\n     * @param redIds 待定\n     * @returns {{terminate, then}|*}\n     */\n    JNetworkTrade.tradePrePayOrderNeedLoginInType = function (orderId, payType, prizeIds, redIds) {\n        var loginParas = JNetwork_js_1.default.loginParas();\n        var inType = JNetwork_js_1.default.inType;\n        if (inType === 'DPIOS' || inType === 'DPANDROID') {\n            return JNetwork_js_1.default.POST(JUrlList_1.tradeUrl.jbzAppPrepay, { orderId: orderId, payType: payType, prizeIds: prizeIds, redIds: redIds }, loginParas);\n        }\n        if (inType === 'DPWX' || inType === 'DPWEB' || inType === 'PC') {\n            return JNetwork_js_1.default.POST(JUrlList_1.tradeUrl.jbzWebPrepay, { orderId: orderId, payType: payType, prizeIds: prizeIds, redIds: redIds }, loginParas);\n        }\n        return JNetwork_js_1.default.wrongInType();\n    };\n    return JNetworkTrade;\n}());\nexports.default = JNetworkTrade;\n"]}