{"version":3,"sources":["network/JNetworkFilm.js"],"names":["Object","defineProperty","exports","value","JUrlList_1","require","JDataUnify_1","JNetworkRoot_1","JNetworkFilm","page","resolve","reject","prefixPromise","filmUrl","jbzHotFilms","then","default","data","error","jbzHotFilmsPage","index","size","jbzHotFilmsSimple","jbzWaitFilms","jbzWaitFilmsPage","filmId","platform","jbzFilmDetailByPartner","platformFilmId","jbzFilmDetail","jbzFilmDate","instance","filmHotfilms","filmHotfilmsSimple","filmWaitfilms","filmDetail","filmDateList"],"mappings":"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","file":"JNetworkFilm.js","sourcesContent":["/**\n * Created by cuppi on 2016/11/22.\n */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst JUrlList_1 = require(\"../unify/JUrlList\");\nconst JDataUnify_1 = require(\"../unify/JDataUnify\");\nconst JNetworkRoot_1 = require(\"./JNetworkRoot\");\n/**\n * 影片接口\n * @memberOf module:network\n */\nclass JNetworkFilm extends JNetworkRoot_1.default {\n    /**\n     * 获取热门电影\n     * @param page PageModel 分页模型\n     * @returns {Promise}\n     */\n    filmHotfilms(page) {\n        if (!page) {\n            return new Promise((resolve, reject) => {\n                this.prefixPromise(JUrlList_1.filmUrl.jbzHotFilms).then(data => {\n                    resolve(JDataUnify_1.default('filmUrl.jbzHotFilms', data));\n                }, error => {\n                    reject(error);\n                });\n            });\n        }\n        else {\n            return new Promise((resolve, reject) => {\n                this.prefixPromise(JUrlList_1.filmUrl.jbzHotFilmsPage, { page: page.index, size: page.size }).then(data => {\n                    resolve(JDataUnify_1.default('filmUrl.jbzHotFilmsPage', data));\n                }, error => {\n                    reject(error);\n                });\n            });\n        }\n    }\n    /**\n     * 获取热门电影\n     * @returns {{terminate, then}|*}\n     */\n    filmHotfilmsSimple() {\n        return new Promise((resolve, reject) => {\n            this.prefixPromise(JUrlList_1.filmUrl.jbzHotFilmsSimple).then(data => {\n                resolve(JDataUnify_1.default('filmUrl.jbzHotFilmsSimple', data));\n            }, error => {\n                reject(error);\n            });\n        });\n    }\n    /**\n     * 获取待映电影\n     * @param page 页号\n     * @returns {Promise}\n     */\n    filmWaitfilms(page) {\n        if (!page) {\n            return new Promise((resolve, reject) => {\n                this.prefixPromise(JUrlList_1.filmUrl.jbzWaitFilms).then(data => {\n                    resolve(JDataUnify_1.default('filmUrl.jbzWaitFilms', data));\n                }, error => {\n                    reject(error);\n                });\n            });\n        }\n        else {\n            return new Promise((resolve, reject) => {\n                this.prefixPromise(JUrlList_1.filmUrl.jbzWaitFilmsPage, { page: page.index, size: page.size }).then(data => {\n                    resolve(JDataUnify_1.default('filmUrl.jbzWaitFilmsPage', data));\n                }, error => {\n                    reject(error);\n                });\n            });\n        }\n    }\n    /**\n     * 获取影片详情\n     * @param filmId 影片Id\n     * @param platform 平台类型(默认使用jbz平台)\n     * @returns {Promise}\n     */\n    filmDetail(filmId, platform = null) {\n        if (platform && platform !== 'jbz') {\n            return new Promise((resolve, reject) => {\n                this.prefixPromise(JUrlList_1.filmUrl.jbzFilmDetailByPartner, { platformFilmId: filmId, platform }).then(data => {\n                    resolve(JDataUnify_1.default('filmUrl.jbzFilmDetailByPartner', data));\n                }, error => {\n                    reject(error);\n                });\n            });\n        }\n        else {\n            return new Promise((resolve, reject) => {\n                this.prefixPromise(JUrlList_1.filmUrl.jbzFilmDetail, { filmId }).then(data => {\n                    resolve(JDataUnify_1.default('filmUrl.jbzFilmDetail', data));\n                }, error => {\n                    reject(error);\n                });\n            });\n        }\n    }\n    /**\n     * 获取影片排片日期列表\n     * @param filmId 影片Id\n     * @returns {Promise}\n     */\n    filmDateList(filmId) {\n        return new Promise((resolve, reject) => {\n            this.prefixPromise(JUrlList_1.filmUrl.jbzFilmDate, { filmId }).then(data => {\n                resolve(JDataUnify_1.default('filmUrl.jbzFilmDate', data));\n            }, error => {\n                reject(error);\n            });\n        });\n    }\n    static filmHotfilms(page) {\n        return this.instance().filmHotfilms(page);\n    }\n    static filmHotfilmsSimple() {\n        return this.instance().filmHotfilmsSimple();\n    }\n    static filmWaitfilms(page) {\n        return this.instance().filmWaitfilms(page);\n    }\n    static filmDetail(filmId, platform = null) {\n        return this.instance().filmDetail(filmId, platform);\n    }\n    static filmDateList(filmId) {\n        return this.instance().filmDateList(filmId);\n    }\n}\nexports.default = JNetworkFilm;\n"]}